# ============================================================
# PostgreSQL Credentials Secret
# ============================================================
# IMPORTANT: Before applying, update the password value with a secure password
#
# To generate a secure password:
#   openssl rand -base64 32
#
# To create this secret manually (recommended for production):
#   kubectl create secret generic postgres-secret \
#     --from-literal=POSTGRES_PASSWORD='your-secure-password' \
#     --from-literal=POSTGRES_USER='ecommerce_user' \
#     --from-literal=POSTGRES_DB='ecommerce_users' \
#     -n prod
# ============================================================

apiVersion: v1
kind: Secret
metadata:
  name: postgres-secret
  namespace: prod
type: Opaque
stringData:
  # IMPORTANT: Change this to a secure password before deploying!
  # This is base64 encoded automatically by Kubernetes
  POSTGRES_PASSWORD: "CHANGE_THIS_TO_SECURE_PASSWORD"  # ⚠️ UPDATE BEFORE DEPLOY
  POSTGRES_USER: "ecommerce_user"
  POSTGRES_DB: "ecommerce_users"
---
# Connection URL Secret for application services
apiVersion: v1
kind: Secret
metadata:
  name: postgres-connection
  namespace: prod
type: Opaque
stringData:
  # Format: postgresql://user:password@host:port/database
  DATABASE_URL: "postgresql://ecommerce_user:CHANGE_THIS_TO_SECURE_PASSWORD@postgresql:5432/ecommerce_users"
